/** Display Cropped Image **/
.portrait-wrapper {
  width: 100%;
  position: relative;
  overflow: hidden;
  aspect-ratio: calc(var(--cw) / var(--ch));
}

.portrait-img {
  position: absolute;
  top: 0;
  left: 0;

  /* Scale entire FULL image so crop width fits wrapper */
  width: calc(100% * (var(--ox) / var(--cw)));
  height: auto;

  /* Correct: move image by original ratios */
  transform:
    translateX(calc(-1 * var(--cx) / var(--ox) * 100%))
    translateY(calc(-1 * var(--cy) / var(--oy) * 100%));
}


/** Cropper tool **/

/* --- Base host --- */
[data-cropper] {
  position: relative;
  display: inline-block;
  width: 100%;
  touch-action: none; /* helps on touch devices */
}

/* Ensure image behaves nicely in the wrapper */
[data-cropper] img {
  max-width: 100%;
  height: auto;
  display: block;
  user-select: none;
  -webkit-user-select: none;
  -webkit-user-drag: none;
  pointer-events: none; /* so wrapper receives mouse events */
}

/* Selection rectangle */
.cmnsd-crop-rect {
  position: absolute;
  border: 2px dashed #0d6efd;
  background: rgba(13, 110, 253, 0.15);
  display: none;
  pointer-events: auto;
  box-sizing: border-box;
}

/* Handles */
.cmnsd-crop-handle {
  position: absolute;
  width: 10px;
  height: 10px;
  background: #0d6efd;
  border-radius: 50%;
  transform: translate(-50%, -50%);
}

/* Corners */
.cmnsd-crop-handle--nw {
  top: 0;
  left: 0;
  cursor: nwse-resize;
}
.cmnsd-crop-handle--ne {
  top: 0;
  right: 0;
  cursor: nesw-resize;
}
.cmnsd-crop-handle--se {
  bottom: 0;
  right: 0;
  cursor: nwse-resize;
}
.cmnsd-crop-handle--sw {
  bottom: 0;
  left: 0;
  cursor: nesw-resize;
}

/* Edges */
.cmnsd-crop-handle--n {
  top: 0;
  left: 50%;
  cursor: ns-resize;
}
.cmnsd-crop-handle--s {
  bottom: 0;
  left: 50%;
  cursor: ns-resize;
}
.cmnsd-crop-handle--e {
  right: 0;
  top: 50%;
  cursor: ew-resize;
}
.cmnsd-crop-handle--w {
  left: 0;
  top: 50%;
  cursor: ew-resize;
}